<div class="bg-slate-950/90 mt-10 backdrop-blur-xl rounded-2xl p-6 border border-amber-500/10 shadow-2xl shadow-amber-500/5">
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <!-- Progress Bar -->
  <div class="mb-6">
    <div class="flex justify-between text-xs font-medium text-slate-400 mb-3">
      <span class="tabular-nums">{{ formatTime(currentTime) }}</span>
      <span class="tabular-nums">{{ formatTime(duration) }}</span>
    </div>
    <div class="relative group">
      <div class="h-1.5 bg-slate-800/80 rounded-full overflow-hidden">
        <div class="h-full bg-gradient-to-r from-amber-400 via-orange-500 to-amber-600 rounded-full transition-all shadow-lg shadow-amber-500/20"
             [style.width.%]="(currentTime / duration) * 100"></div>
      </div>
      <input type="range"
             [value]="currentTime"
             [max]="duration"
             (input)="onSeek($event)"
             class="absolute inset-0 w-full h-1.5 opacity-0 cursor-pointer" />
    </div>
  </div>

  <!-- Main Controls -->
  <div class="flex items-center justify-between gap-6">
    
    <!-- Playback Controls -->
    <div class="flex items-center gap-3">
      <button (click)="skip.emit(-10)" 
              class="group p-3 rounded-xl bg-slate-900/50 hover:bg-slate-800 text-slate-400 hover:text-amber-400 transition-all duration-300 active:scale-95">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/>
        </svg>
      </button>
      
      <button (click)="togglePlay.emit()" 
              class="group relative p-4 rounded-xl bg-gradient-to-br from-amber-400 to-orange-600 hover:from-amber-500 hover:to-orange-700 shadow-lg shadow-amber-500/30 transition-all duration-300 active:scale-95">
        <div class="absolute inset-0 bg-amber-300/20 rounded-xl blur-xl group-hover:bg-amber-300/30 transition-all"></div>
        <svg *ngIf="!isPlaying" class="relative w-6 h-6 text-slate-950" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <svg *ngIf="isPlaying" class="relative w-6 h-6 text-slate-950" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
        </svg>
      </button>
      
      <button (click)="skip.emit(10)" 
              class="group p-3 rounded-xl bg-slate-900/50 hover:bg-slate-800 text-slate-400 hover:text-amber-400 transition-all duration-300 active:scale-95">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/>
        </svg>
      </button>
    </div>

    <!-- Volume Control -->
    <div class="hidden sm:flex items-center gap-3">
      <button (click)="toggleMute.emit()" 
              class="p-2.5 rounded-xl bg-slate-900/50 hover:bg-slate-800 text-slate-400 hover:text-amber-400 transition-all duration-300">
        <svg *ngIf="!isMuted && volume > 0.5" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
        </svg>
        <svg *ngIf="!isMuted && volume <= 0.5 && volume > 0" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M7 9v6h4l5 5V4l-5 5H7z"/>
        </svg>
        <svg *ngIf="isMuted || volume === 0" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
        </svg>
      </button>
      
      <div class="relative w-28 group">
        <div class="h-1.5 bg-slate-800/80 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-slate-600 to-slate-400 rounded-full transition-all"
               [style.width.%]="volume * 100"></div>
        </div>
        <input type="range"
               [value]="volume * 100"
               (input)="onVolumeChange($event)"
               min="0"
               max="100"
               class="absolute inset-0 w-full h-1.5 opacity-0 cursor-pointer" />
      </div>
      
      <span class="text-xs font-medium text-slate-400 w-10 tabular-nums">{{ Math.round(volume * 100) }}%</span>
    </div>

    <!-- Playback Speed -->
    <div class="hidden lg:flex items-center gap-2">
      <span class="text-xs font-medium text-slate-500 uppercase tracking-wider">Speed</span>
      <div class="flex bg-slate-900/50 rounded-xl overflow-hidden border border-slate-800/50">
        <button *ngFor="let rate of [0.5, 0.75, 1, 1.25, 1.5, 2]"
                (click)="playbackRateChange.emit(rate)"
                [class.bg-gradient-to-r]="playbackRate === rate"
                [class.from-amber-400]="playbackRate === rate"
                [class.to-orange-600]="playbackRate === rate"
                [class.text-slate-950]="playbackRate === rate"
                [class.font-bold]="playbackRate === rate"
                [class.shadow-lg]="playbackRate === rate"
                [class.shadow-amber-500/20]="playbackRate === rate"
                class="px-3 py-1.5 text-xs text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all duration-200">
          {{ rate }}Ã—
        </button>
      </div>
    </div>
  </div>

  <!-- Track Info -->
  <div *ngIf="trackTitle" class="mt-6 pt-6 border-t border-slate-800/50">
    <div class="flex items-center gap-4">
      <div class="relative">
        <div class="absolute inset-0 bg-amber-500/20 blur-lg rounded-xl"></div>
        <div class="relative w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-600 rounded-xl flex items-center justify-center shadow-lg">
          <svg class="w-7 h-7 text-slate-950" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <h4 class="font-bold text-white truncate text-sm">{{ trackTitle }}</h4>
        <p class="text-xs text-slate-400 truncate mt-0.5">{{ trackArtist }}</p>
      </div>
    </div>
  </div>
</div>